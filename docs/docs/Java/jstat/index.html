<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jstat | Troubleshooting</title>


<link rel="stylesheet" href="/Troubleshooting/book.min.79de1f7861b0c98f453c0a93bebf3608a280809e417787746c373699639900d7.css">




<link rel="icon" href="/Troubleshooting/favicon.png" type="image/x-icon">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://hello-world-example.github.io/Troubleshooting/">Troubleshooting</a>
</h2>






    
  
  
  

  <style>
  nav ul a[href$="\2fTroubleshooting\2f docs\2fJava\2fjstat\2f "] {
      color: #004ed0;
  }
  </style>

<ul>
<li><strong>Arthas</strong>

<ul>
<li><a href="/Troubleshooting/docs/Arthas/Install/">å®‰è£…</a></li>
<li><a href="/Troubleshooting/docs/Arthas/Commands/">å‘½ä»¤åˆ—è¡¨</a></li>
<li><a href="/Troubleshooting/docs/Arthas/Advice/">Advice</a></li>
<li><a href="/Troubleshooting/docs/Arthas/Case/">æ¡ˆä¾‹</a></li>
<li><a href="/Troubleshooting/docs/Arthas/FAQ/">å¸¸è§é—®é¢˜</a></li>
</ul></li>
<li><a href="/Troubleshooting/docs/Java/"><strong>JDK å†…å»º</strong></a>

<ul>
<li><a href="/Troubleshooting/docs/Java/jcmd/"><sup>ğŸŒˆ</sup>jcmd</a></li>
<li><a href="/Troubleshooting/docs/Java/jps/">jps</a></li>
<li><a href="/Troubleshooting/docs/Java/jstat/">jstat</a></li>
<li><a href="/Troubleshooting/docs/Java/jstack/">jstack</a></li>
<li><a href="/Troubleshooting/docs/Java/jmap/">jmap</a></li>
<li><a href="/Troubleshooting/docs/Java/jhat/">jhat</a></li>
<li><a href="/Troubleshooting/docs/Java/jinfo/">jinfo</a></li>
<li><a href="/Troubleshooting/docs/Java/jstatd/">jstatd</a></li>
<li><a href="/Troubleshooting/docs/Java/jsadebugd/">jsadebugd</a></li>
</ul></li>
</ul>







</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/Troubleshooting/svg/menu.svg" alt="Menu" />
  </label>
  <strong>Jstat</strong>
</header>

      
<article class="markdown">

<h1 id="jstat">jstat</h1>

<p>jstat ç»Ÿè®¡ JVM ä¿¡æ¯ï¼Œ<strong>æ‰“å° GC ä¿¡æ¯</strong></p>

<h2 id="options">options</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">-help       æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
-options    æ”¯æŒçš„ç»Ÿè®¡é¡¹</code></pre></div>
<p>è¿™é‡Œä½¿ç”¨<code>-options</code> è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ jstat -options

-class
-compiler
-gc
-gccapacity
-gccause
-gcnew
-gcnewcapacity
-gcold
-gcoldcapacity
-gcpermcapacity
-gcutil
-printcompilation</code></pre></div>
<h2 id="options-å«ä¹‰">options å«ä¹‰</h2>

<table>
<thead>
<tr>
<th align="center">å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">gc</td>
<td>ç”¨äºæŸ¥çœ‹JVMä¸­å †çš„åƒåœ¾æ”¶é›†æƒ…å†µçš„ç»Ÿè®¡</td>
</tr>

<tr>
<td align="center">gcutil</td>
<td>ç”¨äºæŸ¥çœ‹æ–°ç”Ÿä»£ã€è€ç”Ÿä»£åŠæŒä»£åƒåœ¾æ”¶é›†çš„æƒ…å†µ</td>
</tr>

<tr>
<td align="center">class</td>
<td>ç”¨äºæŸ¥çœ‹ç±»åŠ è½½æƒ…å†µçš„ç»Ÿè®¡</td>
</tr>

<tr>
<td align="center">compiler</td>
<td>ç”¨äºæŸ¥çœ‹HotSpotä¸­å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘æƒ…å†µçš„ç»Ÿè®¡</td>
</tr>

<tr>
<td align="center">gccapacity</td>
<td>ç”¨äºæŸ¥çœ‹æ–°ç”Ÿä»£ã€è€ç”Ÿä»£åŠæŒä¹…ä»£çš„å­˜å‚¨å®¹é‡æƒ…å†µ</td>
</tr>

<tr>
<td align="center">gccause</td>
<td>ç”¨äºæŸ¥çœ‹åƒåœ¾æ”¶é›†çš„ç»Ÿè®¡æƒ…å†µï¼ˆè¿™ä¸ªå’Œ-gcutilé€‰é¡¹ä¸€æ ·ï¼‰ï¼Œå¦‚æœæœ‰å‘ç”Ÿåƒåœ¾æ”¶é›†ï¼Œå®ƒè¿˜ä¼šæ˜¾ç¤ºæœ€åä¸€æ¬¡åŠå½“å‰æ­£åœ¨å‘ç”Ÿåƒåœ¾æ”¶é›†çš„åŸå› ã€‚</td>
</tr>

<tr>
<td align="center">gcnew</td>
<td>ç”¨äºæŸ¥çœ‹æ–°ç”Ÿä»£åƒåœ¾æ”¶é›†çš„æƒ…å†µ</td>
</tr>

<tr>
<td align="center">gcnewcapacity</td>
<td>ç”¨äºæŸ¥çœ‹æ–°ç”Ÿä»£çš„å­˜å‚¨å®¹é‡æƒ…å†µ</td>
</tr>

<tr>
<td align="center">gcold</td>
<td>ç”¨äºæŸ¥çœ‹è€ç”Ÿä»£åŠæŒä¹…ä»£å‘ç”ŸGCçš„æƒ…å†µ</td>
</tr>

<tr>
<td align="center">gcoldcapacity</td>
<td>ç”¨äºæŸ¥çœ‹è€ç”Ÿä»£çš„å®¹é‡</td>
</tr>

<tr>
<td align="center">gcpermcapacity</td>
<td>ç”¨äºæŸ¥çœ‹æŒä¹…ä»£çš„å®¹é‡</td>
</tr>

<tr>
<td align="center">printcompilation</td>
<td>HotSpotç¼–è¯‘æ–¹æ³•çš„ç»Ÿè®¡</td>
</tr>
</tbody>
</table>

<h2 id="å‚æ•°">å‚æ•°</h2>

<p>æ ¼å¼ ï¼š <code>jstat -&lt;option&gt; [-t] [-h&lt;lines&gt;] &lt;vmid&gt; [&lt;interval&gt; [&lt;count&gt;]]</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">&lt;interval&gt;          æ¯éš”å¤šé•¿æ—¶é—´ç»Ÿè®¡ä¸€æ¬¡ï¼Œå•ä½æ”¯æŒ ms å’Œ s
&lt;count&gt;             ç»Ÿè®¡çš„æ¬¡æ•°
-t                  æ¯æ¬¡ä¼šè¾“å‡ºç›®æ ‡JVMå¯åŠ¨å¼€å§‹åˆ°ç°åœ¨çš„æ—¶é—´æˆ³
-h&lt;lines&gt;           æ²¡éš”å¤šå°‘æ¬¡è¾“å‡ºä¸€ä¸‹ç»Ÿè®¡è¡¨å¤´</code></pre></div>
<h2 id="ä¾‹å­">ä¾‹å­</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ jstat -gc -t -h <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">20901</span> <span style="color:#ae81ff">500</span> <span style="color:#ae81ff">10</span>

Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       PC     PU    YGC     YGCT    FGC    FGCT     GCT   
         <span style="color:#ae81ff">1998</span>.6 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">8038</span>.9  <span style="color:#ae81ff">0</span>.0   <span style="color:#ae81ff">66048</span>.0  <span style="color:#ae81ff">45065</span>.2   <span style="color:#ae81ff">174592</span>.0    <span style="color:#ae81ff">627</span>.8    <span style="color:#ae81ff">21504</span>.0 <span style="color:#ae81ff">17411</span>.2      <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">0</span>.039   <span style="color:#ae81ff">1</span>      <span style="color:#ae81ff">0</span>.029    <span style="color:#ae81ff">0</span>.069
         <span style="color:#ae81ff">1999</span>.2 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">8038</span>.9  <span style="color:#ae81ff">0</span>.0   <span style="color:#ae81ff">66048</span>.0  <span style="color:#ae81ff">45065</span>.2   <span style="color:#ae81ff">174592</span>.0    <span style="color:#ae81ff">627</span>.8    <span style="color:#ae81ff">21504</span>.0 <span style="color:#ae81ff">17411</span>.2      <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">0</span>.039   <span style="color:#ae81ff">1</span>      <span style="color:#ae81ff">0</span>.029    <span style="color:#ae81ff">0</span>.069
         <span style="color:#ae81ff">1999</span>.6 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">8038</span>.9  <span style="color:#ae81ff">0</span>.0   <span style="color:#ae81ff">66048</span>.0  <span style="color:#ae81ff">45065</span>.2   <span style="color:#ae81ff">174592</span>.0    <span style="color:#ae81ff">627</span>.8    <span style="color:#ae81ff">21504</span>.0 <span style="color:#ae81ff">17411</span>.2      <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">0</span>.039   <span style="color:#ae81ff">1</span>      <span style="color:#ae81ff">0</span>.029    <span style="color:#ae81ff">0</span>.069
         <span style="color:#ae81ff">2000</span>.2 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">8038</span>.9  <span style="color:#ae81ff">0</span>.0   <span style="color:#ae81ff">66048</span>.0  <span style="color:#ae81ff">45065</span>.2   <span style="color:#ae81ff">174592</span>.0    <span style="color:#ae81ff">627</span>.8    <span style="color:#ae81ff">21504</span>.0 <span style="color:#ae81ff">17411</span>.2      <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">0</span>.039   <span style="color:#ae81ff">1</span>      <span style="color:#ae81ff">0</span>.029    <span style="color:#ae81ff">0</span>.069
Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       PC     PU    YGC     YGCT    FGC    FGCT     GCT   
         <span style="color:#ae81ff">2000</span>.7 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">8038</span>.9  <span style="color:#ae81ff">0</span>.0   <span style="color:#ae81ff">66048</span>.0  <span style="color:#ae81ff">45065</span>.2   <span style="color:#ae81ff">174592</span>.0    <span style="color:#ae81ff">627</span>.8    <span style="color:#ae81ff">21504</span>.0 <span style="color:#ae81ff">17411</span>.2      <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">0</span>.039   <span style="color:#ae81ff">1</span>      <span style="color:#ae81ff">0</span>.029    <span style="color:#ae81ff">0</span>.069
         <span style="color:#ae81ff">2001</span>.2 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">8038</span>.9  <span style="color:#ae81ff">0</span>.0   <span style="color:#ae81ff">66048</span>.0  <span style="color:#ae81ff">45065</span>.2   <span style="color:#ae81ff">174592</span>.0    <span style="color:#ae81ff">627</span>.8    <span style="color:#ae81ff">21504</span>.0 <span style="color:#ae81ff">17411</span>.2      <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">0</span>.039   <span style="color:#ae81ff">1</span>      <span style="color:#ae81ff">0</span>.029    <span style="color:#ae81ff">0</span>.069
         <span style="color:#ae81ff">2001</span>.7 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">8038</span>.9  <span style="color:#ae81ff">0</span>.0   <span style="color:#ae81ff">66048</span>.0  <span style="color:#ae81ff">45065</span>.2   <span style="color:#ae81ff">174592</span>.0    <span style="color:#ae81ff">627</span>.8    <span style="color:#ae81ff">21504</span>.0 <span style="color:#ae81ff">17411</span>.2      <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">0</span>.039   <span style="color:#ae81ff">1</span>      <span style="color:#ae81ff">0</span>.029    <span style="color:#ae81ff">0</span>.069
         <span style="color:#ae81ff">2002</span>.2 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">8038</span>.9  <span style="color:#ae81ff">0</span>.0   <span style="color:#ae81ff">66048</span>.0  <span style="color:#ae81ff">45065</span>.2   <span style="color:#ae81ff">174592</span>.0    <span style="color:#ae81ff">627</span>.8    <span style="color:#ae81ff">21504</span>.0 <span style="color:#ae81ff">17411</span>.2      <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">0</span>.039   <span style="color:#ae81ff">1</span>      <span style="color:#ae81ff">0</span>.029    <span style="color:#ae81ff">0</span>.069
Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       PC     PU    YGC     YGCT    FGC    FGCT     GCT   
         <span style="color:#ae81ff">2002</span>.7 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">8038</span>.9  <span style="color:#ae81ff">0</span>.0   <span style="color:#ae81ff">66048</span>.0  <span style="color:#ae81ff">45065</span>.2   <span style="color:#ae81ff">174592</span>.0    <span style="color:#ae81ff">627</span>.8    <span style="color:#ae81ff">21504</span>.0 <span style="color:#ae81ff">17411</span>.2      <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">0</span>.039   <span style="color:#ae81ff">1</span>      <span style="color:#ae81ff">0</span>.029    <span style="color:#ae81ff">0</span>.069
         <span style="color:#ae81ff">2003</span>.2 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">10752</span>.0 <span style="color:#ae81ff">8038</span>.9  <span style="color:#ae81ff">0</span>.0   <span style="color:#ae81ff">66048</span>.0  <span style="color:#ae81ff">45065</span>.2   <span style="color:#ae81ff">174592</span>.0    <span style="color:#ae81ff">627</span>.8    <span style="color:#ae81ff">21504</span>.0 <span style="color:#ae81ff">17411</span>.2      <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">0</span>.039   <span style="color:#ae81ff">1</span>      <span style="color:#ae81ff">0</span>.029    <span style="color:#ae81ff">0</span>.069</code></pre></div>
<p>å¦‚æœè¦çœ‹æ‡‚ä»¥ä¸Šæ¯ä¸€åˆ—çš„å«ä¹‰ï¼Œå…¶æ¶‰åŠåˆ° JVM åˆ†ä»£GCçš„é—®é¢˜ï¼Œè¿™é‡Œç»™å‡ºä¸€ä¸ªå›¾ä¾›å‚è€ƒï¼Œåº”è¯¥æ¥è‡ªã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹è¿™æœ¬ä¹¦ã€‚</p>

<p><img src="//pic01.kail.xyz/images/java-self-monitor-command/1.png" alt="JVMå†…å­˜åˆ†å¸ƒ" /></p>

<p>ä»¥ä¸‹ç»™å‡ºç®€å•è§£é‡Šï¼š</p>

<pre><code>å †å†…å­˜ = å¹´è½»ä»£ + å¹´è€ä»£ + æ°¸ä¹…ä»£  
å¹´è½»ä»£ = EdenåŒº + ä¸¤ä¸ªSurvivoråŒºï¼ˆFromå’ŒToï¼‰  

S0Cã€S1Cã€S0Uã€S1U   Survivor 0/1åŒºå®¹é‡ï¼ˆCapacityï¼‰å’Œä½¿ç”¨é‡ï¼ˆUsedï¼‰  
ECã€EUï¼š             Eden åŒºå®¹é‡å’Œä½¿ç”¨é‡  
OCã€OUï¼š             å¹´è€ä»£å®¹é‡å’Œä½¿ç”¨é‡  
PCã€PUï¼š             æ°¸ä¹…ä»£å®¹é‡å’Œä½¿ç”¨é‡   
YGCã€YGTï¼š           å¹´è½»ä»£GCæ¬¡æ•°å’ŒGCè€—æ—¶  
FGCã€FGCTï¼š          Full GCæ¬¡æ•°å’ŒFull GCè€—æ—¶  
GCTï¼š                GCæ€»è€—æ—¶
</code></pre>

<h2 id="read-more">Read More</h2>

<ul>
<li><a href="http://www.jianshu.com/p/778dd3848196">Javaåƒåœ¾å›æ”¶æœºåˆ¶</a></li>
<li><a href="http://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/toc.html">HotSpot Virtual Machine Garbage Collection Tuning Guide</a></li>
<li><a href="https://docs.oracle.com/javase/7/docs/technotes/tools/share/jstat.html#output_options">å®˜ç½‘æ–‡æ¡£  jstat</a></li>
<li><a href="http://blog.csdn.net/maosijunzi/article/details/46049117"><strong>javaé«˜åˆ†å±€ä¹‹jstatå‘½ä»¤ä½¿ç”¨</strong></a></li>
<li><a href="http://blog.csdn.net/fenglibing/article/details/6411951">jstatå‘½ä»¤(Java Virtual Machine Statistics Monitoring Tool)</a></li>
</ul>
</article>

      
<div class="book-footer justify-end">
  
  
  <div>
    <a href="https://github.com/hello-world-example/Troubleshooting/edit/master/HuGo/content/docs/Java/jstat.md" target="_blank" rel="noopener">
      <img src="/Troubleshooting/svg/edit.svg" alt="Edit" /> Edit this page
    </a>
  </div>
  
</div>


      
    </div>

    
  

  <aside class="book-toc level-3 fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#jstat">jstat</a>
<ul>
<li><a href="#options">options</a></li>
<li><a href="#options-å«ä¹‰">options å«ä¹‰</a></li>
<li><a href="#å‚æ•°">å‚æ•°</a></li>
<li><a href="#ä¾‹å­">ä¾‹å­</a></li>
<li><a href="#read-more">Read More</a></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>
  
  
  
</body>

</html>
